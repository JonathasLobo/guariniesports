<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Site oficial da equipe Guarini e-sport">
  <title>Guarini e-sport</title>
  <link rel="icon" href="favicon.png" type="image/png">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="noticias.css">
  <link rel="stylesheet" href="videos.css">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#ffad00">
  <!-- iOS meta tags -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="/icons/icon-192.png">

  <!-- Adsense tag -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4262085354518962"
       crossorigin="anonymous"></script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-84NHN394WF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-84NHN394WF');
  </script>


</head>

<body>
  <a id="topo"></a>

  <header>
    <div class="header-wrapper">
      <!-- Navega√ß√£o Desktop - Esquerda -->
      <nav class="nav-group left-nav">
        <ul>
          <li><a href="loja.html">Loja</a></li>
          <li><a href="sobre.html">Sobre</a></li>
        </ul>
      </nav>
      
      <!-- Logo Central -->
      <div class="logo-center">
        <a href="index.html" aria-label="In√≠cio" class="ativo">
          <img src="./logos/Guarini.png" alt="Guarini e-sport" class="header-logo">
        </a>
      </div>

      <!-- Navega√ß√£o Desktop - Direita -->
      <nav class="nav-group right-nav">
        <ul>
          <li><a href="equipes.html">Times</a></li>
          <li><a href="material.html">Material</a></li>
        </ul>
      </nav>
      
      <!-- Bot√£o Menu Mobile -->
      <button class="menu-toggle" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
      <!-- Menu Mobile -->
      <nav class="mobile-menu">
        <ul>
          <li><a href="index.html" class="ativo">In√≠cio</a></li>
          <li><a href="sobre.html">Sobre</a></li>
          <li><a href="equipes.html">Times</a></li>
          <li><a href="loja.html">Loja</a></li>
          <li><a href="material.html">Material</a></li>
          <li><a href="contato.html">Contato</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Info do usu√°rio e bot√£o de login/logout -->
  <div class="user-container">
    <button class="btn-login-topo" id="loginLogoutBtn">Login</button>
    <div class="user-info" id="userInfo">
      Ol√°, <span id="userName"></span>!
    </div>
  </div>

  <main>
    <section id="home" class="hero">
      <div class="hero-image">
        <img src="./img-site/o que te d√° for√ßas.png" alt="O que te d√° for√ßas - Guarini e-sport">
      </div>
      <div class="hero-content">
        <p>Unindo <span class="destaque">FOR√áA</span>, <span class="destaque">ESTRAT√âGIA</span> e <span class="destaque">PAIX√ÉO</span> pelos games desde 2019</p>
      </div>
    </section>

    <section id="noticias">
      <h2>√öltimas Not√≠cias</h2>
      <div class="noticias-colunas">
        <!-- Coluna Esquerda -->
        <div class="noticias-coluna">
          <div class="noticia-card-horizontal">
            <div class="noticia-imagem-horizontal">
              <img src="./img-site/noticia5.jpg" alt="Not√≠cia 5">
            </div>
            <div class="noticia-conteudo-horizontal">
              <h3>Guarini vence Fire Wall</h3>
              <p>Vit√≥ria importante da Guarini</p>
              <a href="noticia5.html#noticia5" class="noticia-link">Leia mais</a>
            </div>
          </div>

          <div class="noticia-card-horizontal">
            <div class="noticia-imagem-horizontal">
              <img src="./img-site/noticia4.jpg" alt="Not√≠cia 4">
            </div>
            <div class="noticia-conteudo-horizontal">
              <h3>Guarini segue firme no topo</h3>
              <p>Guarini vence a C√°lice Real e entra no G4.</p>
              <a href="noticia4.html#noticia4" class="noticia-link">Leia mais</a>
            </div>
          </div>

          <div class="noticia-card-horizontal">
            <div class="noticia-imagem-horizontal">
              <img src="./img-site/noticia3.jpg" alt="Not√≠cia 3">
            </div>
            <div class="noticia-conteudo-horizontal">
              <h3>Mais uma vit√≥ria da Guarini!</h3>
              <p>Guarini vence a Amazon e garante a terceira vit√≥ria seguida no Brasileir√£o Unite!</p>
              <a href="noticia3.html#noticia3" class="noticia-link">Leia mais</a>
            </div>
          </div>
        </div>
        
        <!-- Coluna Direita -->
        <div class="noticias-coluna">
          <div class="noticia-card-horizontal">
            <div class="noticia-imagem-horizontal">
              <img src="./img-site/noticia2.jpg" alt="Not√≠cia 2">
            </div>
            <div class="noticia-conteudo-horizontal">
              <h3>Guarini vence mais uma!</h3>
              <p>Segunda vit√≥ria seguida no Brasileir√£o assumindo o 3¬∫ lugar na tabela.</p>
              <a href="noticia2.html#noticia2" class="noticia-link">Leia mais</a>
            </div>
          </div>

          <div class="noticia-card-horizontal">
            <div class="noticia-imagem-horizontal">
              <img src="./img-site/noticia1.jpg" alt="Not√≠cia 1">
            </div>
            <div class="noticia-conteudo-horizontal">
              <h3>Guarini vence Kingdrav√¥s</h3>
              <p>Nossa equipe conquistou a primeira vit√≥ria pelo brasileir√£o s√©rie C.</p>
              <a href="noticia1.html#noticia1" class="noticia-link">Leia mais</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- NOVA SE√á√ÉO DE V√çDEOS -->
    <section id="videos">
      <h2>Melhores Jogadas da Semana</h2>
      <div class="video-container">
        <div class="video-wrapper">
          <!-- V√≠deo 1 -->
          <div class="video-item active" data-video="1">
            <video muted loop>
              <source src="./videos/jogada1.mp4" type="video/mp4">
              Seu navegador n√£o suporta v√≠deos HTML5.
            </video>
            <div class="video-controls">
              <button class="play-pause-btn" onclick="togglePlay(this)">‚ñ∂</button>
              <div class="volume-control">
                <span>üîä</span>
                <div class="volume-slider" onclick="adjustVolume(this, event)"></div>
              </div>
            </div>
          </div>

          <!-- V√≠deo 2 -->
          <div class="video-item" data-video="2">
            <video muted loop>
              <source src="./videos/jogada2.mp4" type="video/mp4">
              Seu navegador n√£o suporta v√≠deos HTML5.
            </video>
            <div class="video-controls">
              <button class="play-pause-btn" onclick="togglePlay(this)">‚ñ∂</button>
              <div class="volume-control">
                <span>üîä</span>
                <div class="volume-slider" onclick="adjustVolume(this, event)"></div>
              </div>
            </div>
          </div>

          <!-- V√≠deo 3 -->
          <div class="video-item" data-video="3">
            <video muted loop>
              <source src="./videos/jogada3.mp4" type="video/mp4">
              Seu navegador n√£o suporta v√≠deos HTML5.
            </video>
            <div class="video-controls">
              <button class="play-pause-btn" onclick="togglePlay(this)">‚ñ∂</button>
              <div class="volume-control">
                <span>üîä</span>
                <div class="volume-slider" onclick="adjustVolume(this, event)"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- T√≠tulo das jogadas -->
        <div class="jogada-titulo">
          <span id="jogada-texto">Penta de pocot√≥ do <span class="jogador">DEIVID</span></span>
        </div>

        <!-- Indicadores (bolinhas) -->
        <div class="video-indicators">
          <div class="indicator active" onclick="showVideo(1)"></div>
          <div class="indicator" onclick="showVideo(2)"></div>
          <div class="indicator" onclick="showVideo(3)"></div>
        </div>
      </div>
    </section>

    <section id="loja">
      <h2>Loja Oficial</h2>
      <section class="produtos">
        <article class="produto">
          <img src="./shop/stick.jpg" alt="Adesivos hologr√°ficos Kiss-Cut Guarini" />
          <h3>Adesivos hologr√°ficos Kiss-Cut</h3>
          <p class="preco">$ 11,00</p>
          <button type="button" class="btn-comprar" data-link="https://streamlabs.com/guarini_esports/merch/5571571">Comprar</button>
        </article>
        <article class="produto">
          <img src="./shop/garrafinha.jpg" alt="Garrafa de √°gua Guarini" />
          <h3>Garrafa de √°gua de a√ßo inoxid√°vel</h3>
          <p class="preco">$ 30,00</p>
          <button type="button" class="btn-comprar" data-link="https://streamlabs.com/guarini_esports/merch/5023084">Comprar</button>
        </article>
        <article class="produto">
          <img src="./shop/caneca.jpg" alt="Caneca Guarini" />
          <h3>Caneca de viagem com al√ßa</h3>
          <p class="preco">$ 29,00</p>
          <button type="button" class="btn-comprar" data-link="https://streamlabs.com/guarini_esports/merch/5023087">Comprar</button>
        </article>
      </section>
    </section>
  </main>

  <footer>
    <div class="footer-content">
      <!-- Bot√µes de a√ß√£o no footer -->
      <div class="footer-actions">
        <!-- Bot√£o de instalar app -->
        <button id="installBtn" class="btn-install">üì± Instalar Guarini</button>
        
        <!-- Seletor de idioma customizado -->
        <div class="language-selector">
          <button class="language-btn" id="languageBtn">
            <span class="flag flag-br"></span>
            <span id="currentLang">Portugu√™s</span>
            <span>‚ñº</span>
          </button>
          <div class="language-dropdown" id="languageDropdown">
            <div class="language-option" data-lang="pt" data-flag="flag-br" data-name="Portugu√™s">
              <span class="flag flag-br"></span>
              <span>Portugu√™s</span>
            </div>
            <div class="language-option" data-lang="en" data-flag="flag-us" data-name="English">
              <span class="flag flag-us"></span>
              <span>English</span>
            </div>
            <div class="language-option" data-lang="ja" data-flag="flag-jp" data-name="Êó•Êú¨Ë™û">
              <span class="flag flag-jp"></span>
              <span>Êó•Êú¨Ë™û</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Informa√ß√µes do footer -->
      <div class="footer-info">
        <p>&copy; 2019 Guarini e-sport. Todos os direitos reservados.</p>
        <p><a href="https://linktr.ee/guariniesports" target="_blank">Conhe√ßa nossas redes sociais</a></p>
        <p>Created by: Lobo & Shad</p>
      </div>
    </div>
  </footer>

  <!-- Google Translate (oculto) -->
  <div id="google_translate_element" style="display: none;"></div>

  <!-- Scripts -->
  <script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement(
        {pageLanguage: 'pt', includedLanguages: 'pt,en,ja'},
        'google_translate_element'
      );
    }
  </script>
  <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

  <!-- Firebase e Autentica√ß√£o -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
    import { 
      getAuth, 
      onAuthStateChanged, 
      signOut 
    } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyC9LLCXrQTHBagQxaChBazSfS5E4gUPIoI",
      authDomain: "site-grn.firebaseapp.com",
      projectId: "site-grn",
      storageBucket: "site-grn.firebasestorage.app",
      messagingSenderId: "27613322806",
      appId: "1:27613322806:web:ad4dc08ce043f19d530297",
      measurementId: "G-84NHN394WF"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // Elementos do DOM
    const loginLogoutBtn = document.getElementById('loginLogoutBtn');
    const userInfo = document.getElementById('userInfo');
    const userName = document.getElementById('userName');

    // Fun√ß√£o para atualizar a interface com base no estado do usu√°rio
    function updateUI(user) {
      if (user) {
        // Usu√°rio est√° logado
        loginLogoutBtn.textContent = 'Logout';
        loginLogoutBtn.onclick = handleLogout;
        
        // Mostrar informa√ß√µes do usu√°rio
        const displayName = user.displayName || user.email.split('@')[0];
        userName.textContent = displayName;
        userInfo.style.display = 'block';
        
        console.log('Usu√°rio logado:', user.email);
      } else {
        // Usu√°rio n√£o est√° logado
        loginLogoutBtn.textContent = 'Login';
        loginLogoutBtn.onclick = handleLogin;
        
        // Esconder informa√ß√µes do usu√°rio
        userInfo.style.display = 'none';
        
        console.log('Usu√°rio n√£o logado');
      }
    }

    // Fun√ß√£o para fazer login
    function handleLogin() {
      window.location.href = 'login.html';
    }

    // Fun√ß√£o para fazer logout
    async function handleLogout() {
      try {
        await signOut(auth);
        alert('Logout realizado com sucesso!');
        // A interface ser√° atualizada automaticamente pelo onAuthStateChanged
      } catch (error) {
        console.error('Erro no logout:', error);
        alert('Erro ao fazer logout. Tente novamente.');
      }
    }

    // Monitorar mudan√ßas no estado de autentica√ß√£o
    onAuthStateChanged(auth, (user) => {
      updateUI(user);
    });
  </script>

  <!-- Scripts principais -->
  <script src="videos.js"></script>

  <script>
    // Funcionalidade do menu mobile
    const menuToggle = document.querySelector('.menu-toggle');
    const mobileMenu = document.querySelector('.mobile-menu');

    menuToggle.addEventListener('click', function() {
      this.classList.toggle('ativo');
      mobileMenu.classList.toggle('ativo');
    });

    // Fechar menu ao clicar em um link
    const mobileLinks = document.querySelectorAll('.mobile-menu a');
    mobileLinks.forEach(link => {
      link.addEventListener('click', function() {
        menuToggle.classList.remove('ativo');
        mobileMenu.classList.remove('ativo');
      });
    });

    // Fechar menu ao redimensionar para desktop
    window.addEventListener('resize', function() {
      if (window.innerWidth > 900) {
        menuToggle.classList.remove('ativo');
        mobileMenu.classList.remove('ativo');
      }
    });

    // Funcionalidade dos bot√µes de compra
    const botoes = document.querySelectorAll(".btn-comprar");
    botoes.forEach((botao) => {
      botao.addEventListener("click", () => {
        const link = botao.getAttribute("data-link");
        if (link) {
          window.open(link, "_blank");
        }
      });
    });

    // PWA - Service Worker
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker
        .register("/service-worker.js")
        .then(() => console.log("Service Worker registrado!"))
        .catch((err) => console.error("Erro no Service Worker:", err));
    }

    // PWA - Bot√£o de instala√ß√£o
    let deferredPrompt;

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      document.getElementById('installBtn').style.display = 'block';
    });

    document.getElementById('installBtn').addEventListener('click', async () => {
      if (!deferredPrompt) return;
      deferredPrompt.prompt();
      const { outcome } = await deferredPrompt.userChoice;
      deferredPrompt = null;
      document.getElementById('installBtn').style.display = 'none';
      console.log('Usu√°rio respondeu:', outcome);
    });

    // Seletor de idioma customizado
    const languageBtn = document.getElementById('languageBtn');
    const languageDropdown = document.getElementById('languageDropdown');
    const currentLang = document.getElementById('currentLang');
    const languageOptions = document.querySelectorAll('.language-option');

    // Toggle dropdown
    languageBtn.addEventListener('click', function(e) {
      e.stopPropagation();
      languageDropdown.classList.toggle('show');
    });

    // Fechar dropdown ao clicar fora
    document.addEventListener('click', function(e) {
      if (!languageBtn.contains(e.target)) {
        languageDropdown.classList.remove('show');
      }
    });

    // Selecionar idioma
    languageOptions.forEach(option => {
      option.addEventListener('click', function() {
        const lang = this.dataset.lang;
        const flag = this.dataset.flag;
        const name = this.dataset.name;
        
        // Atualizar interface do bot√£o
        const flagElement = languageBtn.querySelector('.flag');
        flagElement.className = `flag ${flag}`;
        currentLang.textContent = name;
        
        // Fechar dropdown
        languageDropdown.classList.remove('show');
        
        // Usar Google Translate
        const translateElement = document.querySelector('.goog-te-combo');
        if (translateElement) {
          translateElement.value = lang;
          translateElement.dispatchEvent(new Event('change'));
        } else {
          // Se o Google Translate n√£o estiver carregado ainda, aguardar
          setTimeout(() => {
            const translateElement = document.querySelector('.goog-te-combo');
            if (translateElement) {
              translateElement.value = lang;
              translateElement.dispatchEvent(new Event('change'));
            }
          }, 1000);
        }
      });
    });
  </script>

</body>
</html>