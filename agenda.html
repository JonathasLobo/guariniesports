<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Agenda de Treinos e Scrims</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
    background: #f4f4f4;
  }
  h1 {
    text-align: center;
    margin-bottom: 20px;
  }
  form {
    margin-bottom: 20px;
  }
  label {
    margin-right: 10px;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    background: white;
  }
  table, th, td {
    border: 1px solid #ccc;
  }
  th, td {
    padding: 8px;
    text-align: left;
  }
  #scrimExtra {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    align-items: center;
    margin-top: 10px;
  }
  #scrimExtra label {
    display: flex;
    flex-direction: column;
    font-size: 14px;
  }
  button {
    cursor: pointer;
  }
</style>
</head>
<body>

<h1>Agenda de Treinos e Scrims</h1>

<form id="agendaForm">
  <label>
    Data:
    <input type="date" id="data" required>
  </label>
  <label>
    Hora:
    <input type="time" id="hora" required>
  </label>
  <label>
    Atividade:
    <select id="atividade" required>
      <option value="">Selecione</option>
      <option value="Treino">Treino</option>
      <option value="Scrim">Scrim</option>
    </select>
  </label>
  <label>
    Participantes:
    <input type="text" id="participantes">
  </label>

  <!-- Campos extras para Scrim -->
  <div id="scrimExtra" style="display:none;">
    <label>
      Adversário:
      <input type="text" id="adversario" placeholder="Nome do time">
    </label>
    <label>
      Formato:
      <select id="formato">
        <option value="2x2">2x2</option>
        <option value="3x3">3x3</option>
      </select>
    </label>
    <label>
      Banimentos:
      <select id="banimentos">
        <option value="All Open">All Open</option>
      </select>
    </label>
  </div>

  <button type="submit">Adicionar</button>
</form>

<h2>Agenda</h2>
<table id="agendaTable">
  <thead>
    <tr>
      <th>Data</th>
      <th>Hora</th>
      <th>Atividade</th>
      <th>Participantes</th>
      <th>Adversário</th>
      <th>Formato</th>
      <th>Banimentos</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<h2>Histórico</h2>
<table id="historicoTable">
  <thead>
    <tr>
      <th>Data</th>
      <th>Hora</th>
      <th>Atividade</th>
      <th>Participantes</th>
      <th>Adversário</th>
      <th>Formato</th>
      <th>Banimentos</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
const pokemons = [
  "Absol", "Aegislash", "Alcremie", "Armarouge", "Azumarill", "Blastoise",
  "Blaziken", "Blissey", "Buzzwole", "Ceruledge", "Chandelure", "Charizard",
  "Cinderace", "Clefable", "Comfey", "Cramorant", "Crustle", "Darkrai", "Decidueye", "Delphox",
  "Dodrio", "Dragapult", "Dragonite", "Duraludon", "Eldegoss", "Espeon", "Falinks",
  "Garchomp", "Gardevoir", "Gengar", "Glaceon", "Goodra", "Greedent",
  "Greninja", "Gyarados", "Ho-Oh", "Hoopa", "Inteleon", "Lapras", "Latias", "Latios",
  "Leafeon", "Lucario", "Machamp", "Mamoswine", "Meowscarada", "Metagross", "Mew", "Mewtwo Y",
  "Mewtwo X", "Mimikyu", "Miraidon", "Mr. Mime", "Ninetales", "Pawmot", "Pikachu", "Psyduck", "Raichu", "Rapidash", "Sableye", "Scizor",
  "Slowbro", "Snorlax", "Suicune", "Sylveon", "Talonflame", "Tinkaton", "Trevenant", "Tsareena",
  "Tyranitar", "Umbreon", "Urshifu", "Venusaur", "Wigglytuff", "Zacian", "Zeraora", "Zoroark"
];

const banimentosSelect = document.getElementById("banimentos");
pokemons.forEach(p => {
  const opt = document.createElement("option");
  opt.value = p;
  opt.textContent = p;
  banimentosSelect.appendChild(opt);
});

document.getElementById("atividade").addEventListener("change", function() {
  const scrimExtra = document.getElementById("scrimExtra");
  const participantes = document.getElementById("participantes");
  if (this.value === "Scrim") {
    scrimExtra.style.display = "flex";
    participantes.value = "Time";
    participantes.readOnly = true;
  } else {
    scrimExtra.style.display = "none";
    participantes.value = "";
    participantes.readOnly = false;
  }
});

document.getElementById("agendaForm").addEventListener("submit", function(e) {
  e.preventDefault();
  const data = document.getElementById("data").value;
  const hora = document.getElementById("hora").value;
  const atividade = document.getElementById("atividade").value;
  const participantes = document.getElementById("participantes").value;
  let adversario = "";
  let formato = "";
  let banimentos = "";

  if (atividade === "Scrim") {
    adversario = document.getElementById("adversario").value.trim();
    formato = document.getElementById("formato").value;
    banimentos = document.getElementById("banimentos").value;
  }

  const tbody = document.querySelector("#agendaTable tbody");
  const tr = document.createElement("tr");
  tr.innerHTML = `
    <td>${data}</td>
    <td>${hora}</td>
    <td>${atividade}</td>
    <td>${participantes}</td>
    <td>${adversario}</td>
    <td>${formato}</td>
    <td>${banimentos}</td>
    <td>
      <button onclick="concluir(this)">Concluir</button>
      <button onclick="this.closest('tr').remove()">Excluir</button>
    </td>
  `;
  tbody.appendChild(tr);
  this.reset();
  document.getElementById("scrimExtra").style.display = "none";
});

function concluir(btn) {
  const row = btn.closest("tr");
  const historico = document.querySelector("#historicoTable tbody");
  const newRow = row.cloneNode(true);
  const actionsCell = newRow.querySelector("td:last-child");
  actionsCell.innerHTML = `
    <button onclick="this.closest('tr').remove()">Apagar</button>
    <button onclick="location.href='scrims-result.html'">Cadastrar resultado</button>
  `;
  historico.appendChild(newRow);
  row.remove();
}
</script>

</body>
</html>
